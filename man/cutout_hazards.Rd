% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geospatial__cutout_hazards.R
\name{cutout_hazards}
\alias{cutout_hazards}
\title{Extract hazard raster values for asset polygons}
\usage{
cutout_hazards(
  assets_with_geometry,
  hazards,
  use_exactextractr = TRUE,
  parallel = FALSE,
  crop_margin = 0.001,
  batch_groups = TRUE
)
}
\arguments{
\item{assets_with_geometry}{Data frame with asset information including geometry and geolocation_method columns (from geolocate_assets)}

\item{hazards}{Named list of hazard rasters (from load_hazards)}

\item{use_exactextractr}{Logical. If TRUE and package available, use exactextractr for polygon means (faster and accurate)}

\item{parallel}{Logical. If TRUE and future.apply available, parallelize across hazards}

\item{crop_margin}{Numeric. Margin added around geometry extent when cropping raster before extraction}
}
\value{
Data frame with original columns plus one numeric column per hazard containing extracted values
}
\description{
For each hazard raster, extracts values within each asset's geometry polygon
and adds them as new columns to the assets dataframe. Column names are derived from hazard names.
Optimized to process unique geometries only once per geolocation method.
}
\details{
Cut out hazard values for asset geometries
}
\examples{
\dontrun{
base_dir <- system.file("tests_data", package = "climate.risk.tool")
assets <- read_inputs(base_dir)$assets
hazards <- load_hazards(file.path(base_dir, "hazards"))
assets_geo <- geolocate_assets(assets, hazards, base_dir)
assets_hazards <- cutout_hazards(assets_geo, hazards)
}
}
