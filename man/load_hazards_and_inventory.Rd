% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils__load_hazards.R
\name{load_hazards_and_inventory}
\alias{load_hazards_and_inventory}
\title{Load all hazard data and generate inventory}
\usage{
load_hazards_and_inventory(hazards_dir, aggregate_factor = 1L)
}
\arguments{
\item{hazards_dir}{Character path to hazards directory containing subdirectories with hazard files}

\item{aggregate_factor}{Integer >= 1. Aggregation factor for TIF and NC rasters (default: 1)}
}
\value{
A list with three elements:
\itemize{
\item \code{hazards}: Nested list with \code{tif}, \code{nc}, and \code{csv} keys
\item \code{inventory}: Tibble with columns: hazard_type, hazard_indicator, scenario_name,
hazard_return_period, scenario_code, hazard_name (unified format),
ensemble (ensemble variant or NA for TIF), source ("tif", "nc", or "csv")
}
}
\description{
Self-contained loader that:
\enumerate{
\item Auto-discovers \code{hazards_metadata.csv} for TIF files (if present)
\item Loads TIF rasters from mapping
\item Scans directory tree for NetCDF files and loads them
\item Scans directory tree for CSV files and loads them
\item Validates no mixed file types (tif/nc/csv) in same leaf folder
\item Generates a unified inventory combining TIF, NC, and CSV metadata
\item Returns both hazards and inventory
}
}
\details{
Load hazards (TIF + NC + CSV) and build complete inventory
}
\examples{
\dontrun{
result <- load_hazards_and_inventory(
  hazards_dir = file.path(base_dir, "hazards"),
  aggregate_factor = 1L
)

# Access hazards (flattened for compute)
all_hazards <- c(result$hazards$tif, result$hazards$nc, result$hazards$csv)

# Access inventory (for UI dropdowns)
inventory <- result$inventory
}
}
