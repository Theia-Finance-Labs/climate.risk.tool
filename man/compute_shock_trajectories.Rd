% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/shock__compute_shock_trajectories.R
\name{compute_shock_trajectories}
\alias{compute_shock_trajectories}
\title{Compute Shock Yearly Trajectories}
\usage{
compute_shock_trajectories(
  yearly_baseline_profits,
  assets_with_factors,
  events,
  net_profit_margin = 0.1,
  start_year = 2025
)
}
\arguments{
\item{yearly_baseline_profits}{data.frame with columns: asset, company, year, revenue, profit}

\item{assets_with_factors}{data.frame with hazard data and damage/cost factors}

\item{events}{data.frame with columns: event_id, hazard_type, hazard_name, event_year (or NA), chronic (logical)}

\item{net_profit_margin}{numeric. Net profit margin for computing profits from shocked revenue (default: 0.1)}

\item{start_year}{numeric. Starting year for projections (default: 2025)}
}
\value{
data.frame with columns: asset, company, year, scenario, revenue, profit
where scenario is either "baseline" or "shock"
}
\description{
Applies climate shocks to baseline yearly trajectories through a clear sequence:
\enumerate{
\item Apply acute revenue shocks
\item Apply chronic revenue shocks
\item Compute profits from shocked revenue
\item Apply acute profit shocks
\item Concatenate with baseline scenarios
Returns a single dataframe with both baseline and shock scenarios ready for downstream analysis.
}
}
\details{
Compute Shock Yearly Trajectories and Concatenate with Baseline
}
\examples{
\dontrun{
yearly_baseline <- data.frame(
  asset = c("A1", "A1"),
  company = c("C1", "C1"),
  year = c(2025, 2030),
  revenue = c(1000, 1200),
  profit = c(100, 120)
)
assets_factors <- data.frame(
  asset = "A1", hazard_name = "flood__global_rcp85_h100glob_brazil",
  damage_factor = 0.1, cost_factor = 1000
)
events <- data.frame(
  event_id = "ev1", hazard_type = "flood",
  hazard_name = "flood__global_rcp85_h100glob_brazil",
  event_year = 2030, chronic = FALSE
)
result <- compute_shock_trajectories(yearly_baseline, assets_factors, events)
# result contains both baseline and shock scenarios
}
}
